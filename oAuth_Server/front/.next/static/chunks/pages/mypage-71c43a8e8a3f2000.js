(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[587],{4062:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(29),s=r(7794),a=r.n(s),o=r(9653),i=r(8641),l=r(979),c=r(7741),d=r(3234),u=r(9669),h=r.n(u),x=r(7294),p=r(2474),m=r.n(p),f=r(7041),w=r(6101),j=r(3887),g=r(5893);var v=function(e){var t=e.isOpen,r=e.onClose;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(w.u_,{isOpen:t,onClose:r,size:"xs",children:[(0,g.jsx)(w.ZA,{bg:"blackAlpha.500"}),(0,g.jsx)(w.hz,{children:(0,g.jsx)(w.fe,{children:(0,g.jsx)(i.M5,{w:"100%",children:(0,g.jsx)(j.Ee,{src:"loading.gif",w:"50rem",h:"15rem"})})})})]})})},b=r(9997),z=r(1750),y=function(e){var t=e.hashId,r=e.email,s=e.user,u=(0,x.useState)(""),p=u[0],w=u[1],j=(0,x.useState)(""),y=j[0],S=j[1],I=(0,x.useState)(""),C=I[0],k=I[1],O=(0,x.useState)(""),_=O[0],X=O[1],A=(0,x.useState)(""),E=A[0],M=A[1],Z=(0,x.useState)(!1),N=Z[0],P=Z[1],U=(0,x.useState)(""),q=U[0],F=U[1],T=(0,x.useState)(""),D=T[0],W=T[1],$=(0,x.useState)(""),G=$[0],H=$[1],L=(0,x.useState)(!0),R=L[0],Y=L[1],B=(0,x.useState)(""),J=B[0],K=B[1],Q=(0,o.qY)(),V=Q.isOpen,ee=Q.onOpen,te=Q.onClose,re=function(){var e=(0,n.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().post("".concat(b.y3,"/Oauth/user/searchUser"),{hashId:t});case 2:r=e.sent,w(r.data.name),X(r.data.addr),k(r.data.age),M(r.data.mobile),S(r.data.gender);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,n.Z)(a().mark((function e(n){var s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y(!1),ee(),0!=J){e.next=6;break}return alert("\ube44\ubc00\ubc88\ud638\ub294 \uc601\ubb38\uc790, \uc22b\uc790, \ud2b9\uc218\ubb38\uc790 \uc870\ud569\uc73c\ub85c 8~15\uc790\ub9ac\ub97c \uc0ac\uc6a9\ud574\uc8fc\uc138\uc694."),Y(!0),e.abrupt("return");case 6:if(G===D){e.next=10;break}return alert("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),Y(!0),e.abrupt("return");case 10:return s={hashId:t,email:r,newPw:D},e.next=13,h().post("".concat(b.y3,"/Oauth/user/upDatePassword"),s);case 13:1==(o=e.sent).data.status?(te(),alert(o.data.msg),(0,f.deleteCookie)("user",{path:"/",domain:"localhost"}),window.location.replace("/")):alert(o.data.msg),Y(!0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=(0,n.Z)(a().mark((function e(){var n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!1),ee(),n={gender:y,name:p,age:C,addr:_,mobile:E,email:r,hashId:t},e.next=5,h().post("".concat(b.y3,"/Oauth/user/upDateUser"),n);case 5:1==(s=e.sent).data.status?(w(s.data.name),k(s.data.age),S(s.data.gender),X(s.data.addr),M(s.data.mobile),Y(!0),alert(s.data.msg)):(Y(!0),te(),alert(s.data.msg));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=(0,n.Z)(a().mark((function e(n,s){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!1),e.next=3,h().post("".concat(b.y3,"/oauth/user/deleteUser"),{hashId:t,email:r});case 3:(o=e.sent).data.status?(te(),(0,f.deleteCookie)("user",{req:n,res:s,maxAge:864e5}),alert(o.data.msg),window.location.replace("/")):alert(o.data.msg),Y(!0);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){t&&re()}),[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(z.Z,{user:s}),(0,g.jsx)(i.M5,{w:"100%",h:"100%",pt:"10%",px:"5%",bg:"#160627",children:(0,g.jsx)(i.xu,{w:"40%",m:"10% 5% 25% 5%",h:N?"100rem":"55rem",p:"8% 0",px:"6%",border:"2px solid #fff",borderRadius:"1rem",children:!1===N?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.M5,{children:(0,g.jsx)(i.xu,{w:"100%",children:(0,g.jsxs)(i.xv,{textAlign:"center",fontSize:"200%",mb:"2rem",color:"White",children:[" ","\ud68c\uc6d0\uc815\ubcf4"]})})}),(0,g.jsx)(i.iz,{}),(0,g.jsxs)(i.xv,{fontSize:"130%",mt:"2rem",mb:"1rem",color:"White",children:[" ","\ube44\ubc00\ubc88\ud638 \uc785\ub825"]}),(0,g.jsx)(l.II,{type:"password",style:{color:"white"},placeholder:"\ud328\uc2a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",id:"password",size:"md",onChange:function(e){F(e.target.value)}}),(0,g.jsxs)(i.M5,{mt:"5%",children:[(0,g.jsxs)(c.zx,{onClick:function(){var e=r+q,n=m().createHash("sha256").update(e).digest("base64");t===n?(P(!0),re()):alert("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},w:"30%",mx:"3%",children:[" ","\ud655\uc778"]}),(0,g.jsx)(c.zx,{onClick:function(e,t){(0,f.deleteCookie)("user",{req:e,res:t,maxAge:864e5}),window.location.replace("/")},color:"#160627",w:"30%",mx:"3%",children:"LOGOUT"})]})]}):(0,g.jsxs)(i.xu,{w:"100%",h:"100%",pt:"5%",px:"5%",bg:"#160627",children:[(0,g.jsxs)(d.NI,{mt:"3",children:[(0,g.jsx)(i.xv,{fontSize:"225%",px:"25%",mb:"5%",color:"white",textAlign:"center",children:"\ud68c\uc6d0\uc815\ubcf4\uc218\uc815"}),(0,g.jsx)(d.lX,{fontSize:"125%",px:"2%",mb:"3%",color:"white",children:"\uc774\uba54\uc77c"}),(0,g.jsx)(l.II,{type:"text",style:{color:"white"},id:"userEmail",value:r,size:"md",mb:"5%",disabled:!0}),(0,g.jsx)(d.lX,{fontSize:"125%",px:"2%",color:"white",children:"\uc774\ub984"}),(0,g.jsx)(l.II,{type:"text",style:{color:"white"},placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",size:"md",mb:"5%",value:p,onChange:function(e){w(e.target.value)}}),(0,g.jsx)(d.lX,{fontSize:"125%",px:"2%",mb:"2%",color:"white",children:"\uc131\ubcc4"}),(0,g.jsx)(l.II,{type:"text",style:{color:"white"},size:"md",mb:"5%",value:"f"===y?"\uc5ec\uc131":"\ub0a8\uc131",disabled:"true"}),(0,g.jsx)(d.lX,{fontSize:"125%",px:"2%",color:"white",children:"\ub098\uc774"}),(0,g.jsx)(l.II,{placeholder:"\ub098\uc774\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",style:{color:"white"},mb:"5%",size:"md",value:C,onChange:function(e){k(e.target.value)}}),(0,g.jsx)(d.lX,{fontSize:"125%",px:"2%",color:"white",children:"\uc8fc\uc18c"}),(0,g.jsx)(l.II,{type:"text",mb:"5%",size:"md",style:{color:"white"},placeholder:"\uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",value:_,onChange:function(e){X(e.target.value)}}),(0,g.jsx)(d.lX,{fontSize:"125%",px:"2%",color:"white",children:"\uc804\ud654\ubc88\ud638"}),(0,g.jsx)(l.II,{type:"mobile",mb:"5%",size:"md",style:{color:"white"},placeholder:"\uc804\ud654\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",value:E,onChange:function(e){M(e.target.value)}})]}),R?(0,g.jsx)(i.M5,{children:(0,g.jsx)(c.zx,{color:"#160627",mb:"2rem",onClick:se,children:"\ubcc0\uacbd\ud558\uae30"})}):(0,g.jsx)(v,{isOpen:V,onClose:te}),(0,g.jsx)(i.iz,{}),(0,g.jsx)(i.xv,{fontSize:"225%",px:"25%",pt:"4rem",color:"white",textAlign:"center",children:"\ube44\ubc00 \ubc88\ud638 \uc218\uc815"}),(0,g.jsx)(d.lX,{fontSize:"125%",px:"2%",pt:"2rem",color:"white",children:"\ubcc0\uacbd \ud560 \ube44\ubc00\ubc88\ud638"}),(0,g.jsx)(l.II,{type:"password",style:{color:"white"},placeholder:"\ud328\uc2a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",id:"password",size:"md",onChange:function(e){W(e.target.value),K(!!/^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,15}$/.test(D))}}),(0,g.jsx)(i.xv,{my:"4%",px:"2%",color:1==J?"green":"red",fontSize:"1rem",children:""===J?null:J?"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4.":"\ube44\ubc00\ubc88\ud638\ub294 \uc601\ubb38\uc790, \uc22b\uc790, \ud2b9\uc218\ubb38\uc790 \ud3ec\ud568 8~15\uc790\uc5ec\uc57c \ud569\ub2c8\ub2e4."}),(0,g.jsx)(d.lX,{fontSize:"140%",px:"2%",pt:"2rem",color:"white",children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,g.jsx)(l.II,{type:"password",style:{color:"white"},placeholder:"\ud328\uc2a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",id:"password",size:"md",onChange:function(e){H(e.target.value)}}),R?(0,g.jsxs)(i.M5,{children:[" ",(0,g.jsx)(c.zx,{mb:"2rem",mt:"2rem",color:"#160627",disabled:G!==D,onClick:ne,children:"\ubcc0\uacbd\ud558\uae30"})]}):(0,g.jsx)(v,{isOpen:V,onClose:te}),(0,g.jsx)(i.iz,{}),(0,g.jsxs)(i.xv,{fontSize:"210%",px:"35%",pt:"4rem",color:"white",textAlign:"center",children:[" ","\ud68c\uc6d0 \ud0c8\ud1f4"," "]}),R?(0,g.jsx)(i.M5,{children:(0,g.jsxs)(c.zx,{color:"#160627",mb:"5%",mt:"5%",onClick:ae,children:[" ","\ud68c\uc6d0\ud0c8\ud1f4\ubc84\ud2bc"]})}):(0,g.jsx)(v,{isOpen:V,onClose:te})]})})})]})}},2147:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage",function(){return r(4062)}])}},function(e){e.O(0,[714,897,773,680,774,888,179],(function(){return t=2147,e(e.s=t);var t}));var t=e.O();_N_E=t}]);